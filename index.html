<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>GeoAR.js demo</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    <link rel="stylesheet" href="./style.css">
  </head>

  <script src="./script.js"></script>
  <body style="margin: 0; overflow: hidden">
    <div class="video-holder">
      <video
          id="BGvideo"
          class="webcam"
          autoplay
          webkit-playsinline
          playsinline
        ></video>
    </div>
    <a-scene
      id="scene"
      vr-mode-ui="enabled: false"
      cursor="rayOrigin: mouse; fuse: false" raycaster="objects: .raycastable"
      arjs="sourceType: webcam; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960; debugUIEnabled: false;"
    >
      <a-camera
        id="camera"
        rotation-reader
        zoom="2"
        look-controls="reverseMouseDrag:true; touchEnabled: false;"
      >
        <a-video id="videoPanel" src="#video" width="4" height="2.5" position="0 0 -7" visible="false" repeat ></a-video>
      </a-camera>
      <a-box 
        position="-1 0.5 -8" 
        rotation="0 45 0" 
        color="#4CC3D9"
        ></a-box>
      <a-assets>
        <a-asset-item
          id="paper"
          src="./assets/magnemite/scene.gltf"
        ></a-asset-item>
        <video
          id="video"
          loop="true"
          src="./assets/video.mp4"
        ></video>
       
      </a-assets>
      <a-entity origami class="raycastable" cursor='rayOrigin: mouse;' >
        <a-entity
          class="origami"
          gltf-model="#paper"
          animation-mixer
          position="-2 2 2"
          scale="0.1 0.1 0.1"
          raycaster="objects: [data-raycastable]"
        ></a-entity>
        <a-entity
          class="origami"
          gltf-model="#paper"
          animation-mixer
          position="7 -4 -10"
          scale="0.1 0.1 0.1"
          raycaster="objects: [data-raycastable]"
        ></a-entity>
        <a-entity
          class="origami"
          gltf-model="#paper"
          animation-mixer
          position="5 5 -5"
          scale="0.1 0.1 0.1"
          raycaster="objects: [data-raycastable]"
        ></a-entity>
      </a-entity>
  </body>
</html>
